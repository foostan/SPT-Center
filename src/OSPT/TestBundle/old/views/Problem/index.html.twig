{% extends 'OSPTTestBundle::layout.html.twig' %}

{% block containerClass %}container{% endblock %}
{% block body %}
<div class="row">
<div class="span12">
	<h1>{{ test.name }}'s problem list</h1>
	<p></p>
</div>

<div class="span12">

<table class="table table-striped table-condensed">
	<thead>
		<tr>
			<th>Id</th>
			<th>Name</th>
			<th>Operation</th>
			<th>CreateAt</th>
			<th>UpdatedAt</th>
		</tr>
	</thead>
	<tbody>
	    {% for problem in test.getTestProblems() %}
	    <tr>
	        <td>{{ problem.id }}</td>
	        <td>{{ problem.name }}</a></td>
	        <td>
				<a class="btn btn-warning" href="{{ path('test_problem_edit', {'id':test.name, 'pid':problem.id}) }}">
					<i class="icon-edit icon-white"></i> Edit
				</a>
				<a class="btn btn-danger" href="{{ path('test_problem_delete', {'id':test.name, 'pid':problem.id}) }}">
					<i class="icon-trash icon-white"></i> Delete
				</a>
			</td>
	        <td>{{ problem.createdAt|date('Y/m/d H:i') }}</td>
	        <td>{{ problem.updatedAt|date('Y/m/d H:i') }}</td>
	    </tr>
	    {% else %}
	    <tr>
	        <td colspan="5">No problem found</td>
	    </tr>
	    {% endfor %}
	</tbody>
</table>
</div>

<div class="span12">
	<div class="btn-toolbar">
		<a class="btn btn-primary" href="{{ path('test_problem_new', {'id':test.name}) }}">
			<i class="icon-file icon-white"></i> Create a new problem
		</a>
		<a class="btn" href="{{ path('test_manage') }}">Back to the test list</a>
	</div>
</div>

</div>
{% endblock %}
